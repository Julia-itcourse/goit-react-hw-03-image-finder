{"version":3,"sources":["services/FetchImagesWithQuery/FetchImagesWithQuery.jsx","services/FetchImagesWithQuery/index.js","components/Searchbar/Searchbar.jsx","components/Searchbar/index.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGalleryItem/index.js","components/ImageGallery/index.js","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Modal/index.js","components/Button/index.js","components/Button/Button.jsx","components/App/index.js","components/App/App.jsx","index.js"],"names":["FetchImagesWithQuery","query","page","apiKey","axios","get","then","response","data","hits","propTypes","defaultProps","Searchbar","state","handleSubmit","event","preventDefault","props","onSubmit","setState","handleChange","target","value","name","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","cardImage","alt","srcOriginal","getLargeImageURL","src","onClick","dataset","source","data-source","ImageGallery","onImageClick","map","item","webformatURL","tags","largeImageURL","id","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","largeImageUrl","Button","App","loading","error","showModal","originalImageURL","componentDidUpdate","prevProps","prevState","console","log","fetchHits","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","handeSubmitForm","searchQuery","handleClickImage","openModal","closeModal","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4428a621.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n//import { Test } from './FetchImagesWithQuery.styles';\n\n\nconst FetchImagesWithQuery = (query, page = 1) => {\n  const apiKey = \"18426896-fe41a223570e8075df6a95c49\";\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\n\nFetchImagesWithQuery.propTypes = {\n  // bla: PropTypes.string,\n};\n\nFetchImagesWithQuery.defaultProps = {\n  // bla: 'test',\n};\n\nexport default FetchImagesWithQuery;\n","import FetchImagesWithQuery from './FetchImagesWithQuery';\n\nexport default FetchImagesWithQuery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n\n\nclass Searchbar extends Component {\n\n  state = {\n    query: '',\n  }\n\n  handleSubmit = (event) =>{\n    event.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({query:''});\n  };\n\n  handleChange = ({target: {value, name}}) => {\n    this.setState({[name]: value});\n  };\n\nrender(){\nreturn(\n<header className=\"Searchbar\">\n  <form className=\"SearchForm\" onSubmit = {this.handleSubmit}>\n    <button type=\"submit\" className=\"SearchForm-button\">\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images\"\n      name=\"query\"\n      value={this.state.query}\n      onChange={this.handleChange}\n    />\n  </form>\n</header>\n)\n}\n}\n\n\nSearchbar.propTypes = {\n  // bla: PropTypes.string,\n};\n\nSearchbar.defaultProps = {\n  // bla: 'test',\n};\n\nexport default Searchbar;\n","import Searchbar from './Searchbar';\n\nexport default Searchbar;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n//import { Test } from './ImageGalleryItem.styles';\n\nconst ImageGalleryItem = ({\n  cardImage,\n  alt,\n  srcOriginal,\n  getLargeImageURL\n}) => {\n \n   const handleClick = event => getLargeImageURL(event.target.dataset.source);\n \n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={cardImage}\n        alt={alt}\n        className=\"ImageGalleryItem-image\"\n        onClick={handleClick}\n        data-source={srcOriginal}\n        \n      />\n    </li>\n  )\n \n}\n\nImageGalleryItem.propTypes = {\n  cardImage: PropTypes.string,\n  alt: PropTypes.string.isRequired,\n  srcOriginal:PropTypes.string.isRequired,\n  getLargeImageURL: PropTypes.func.isRequired\n\n}\n\nImageGalleryItem.defaultProps = {\n  // bla: 'test',\n}\n\nexport default ImageGalleryItem\n","import ImageGalleryItem from './ImageGalleryItem';\n\nexport default ImageGalleryItem;\n","import ImageGallery from './ImageGallery';\n\nexport default ImageGallery;\n","import React from \"react\"\nimport ImageGalleryItem from '../ImageGalleryItem'\nimport PropTypes from \"prop-types\"\n\nconst ImageGallery = ({hits, onImageClick}) => {\n  return (\n    (\n      <ul className=\"ImageGallery\">\n        {hits.map((item) => (\n          <ImageGalleryItem key={item.id} \n          onClick = {onImageClick}\n          cardImage = {item.webformatURL}\n          alt = {item.tags}\n          srcOriginal={item.largeImageURL}\n          getLargeImageURL={onImageClick}\n          />\n          \n        ))}\n      </ul>\n    )\n   \n  )\n}\n\nImageGallery.propTypes = {\nhits: PropTypes.array.isRequired,\nonImageClick: PropTypes.func.isRequired\n}\n\n\nexport default ImageGallery\n","import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\n//import { Test } from './Modal.styles';\n\nclass Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown)\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onClose()\n    }\n  }\n\n  render() {\n   \n    return (\n      <div className=\"Overlay\" onClick={this.props.onClose}>\n        <div className=\"Modal\">\n          <img src={this.props.largeImageUrl} alt=\"image was lost on the way\" />\n        </div>\n      </div>\n    )\n  }\n}\n\nModal.propTypes = {\n  largeImageUrl: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired\n}\n\nModal.defaultProps = {\n  // bla: 'test',\n}\n\nexport default Modal\n","import Modal from './Modal';\n\nexport default Modal;\n","import Button from './Button';\n\nexport default Button;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n//import { Test } from './Button.styles';\n\n\nconst Button = ({onClick}) =>{\n\n return( \n\n <button className=\"Button\" type=\"button\" onClick={\n  onClick}>Load more</button>\n \n  )\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\n\n\nexport default Button;\n","import App from './App';\n\nexport default App;\n","import React, { Component } from \"react\"\n\nimport FetchImagesWithQuery from '../../services/FetchImagesWithQuery'\n\nimport Loader from \"react-loader-spinner\"\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\nimport Searchbar from \"../Searchbar\"\nimport ImageGallery from \"../ImageGallery\"\nimport Modal from \"../Modal\"\nimport Button from \"../Button\"\n\n\n\nclass App extends Component {\n  state = {\n    hits: [],\n    loading: false,\n    error: null,\n    showModal: false,\n    page:1,\n    query:'',\n    originalImageURL:'',\n  }\n\n\n  componentDidUpdate =(prevProps, prevState)=>{\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    if (prevQuery !==nextQuery){\n      console.log(\"calling fetch hits\");\n      this.fetchHits();\n    } \n  }\n\n\nfetchHits = () =>{\n  const {query, page } = this.state;\n  this.setState({loading:true});\n  FetchImagesWithQuery(query, page)\n  .then(hits => this.setState(\n    prevState => ({\n      hits: [...prevState.hits, ...hits],\n      page: prevState.page + 1,\n    })\n  )\n\n  )\n  .catch (error => this.setState({error}))\n  .finally(()=>{\n    this.setState ({loading: false});\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  })\n}\n\n  //?как сделать картинку на модалке и использовать тоггл, а не отдельные ф.\n  // toggleModal = () => {\n  //   this.setState((state) => ({ showModal: !state.showModal }))\n  //   console.log(\"ToggleModal\")\n\n  // }\n\nhandeSubmitForm = (searchQuery) =>{\n\n  this.setState({\n    hits:[],\n    query: searchQuery,\n    page:1,\n  \n  })\n}\n\n  handleClickImage = largeImageURL => {\n    this.openModal(largeImageURL);\n  };\n\n  openModal = largeImageURL =>\n    this.setState({ showModal: true, originalImageURL: largeImageURL });\n\n  closeModal = () => this.setState({ showModal: false, originalImageURL: '' });\n\n  render() {\n    const { showModal, loading, hits } = this.state\n\n\n    return (\n      <div className=\"AppWrapper\">\n        <Searchbar onSubmit = {this.handeSubmitForm}/>\n        {showModal && (\n          <Modal\n            largeImageUrl={this.state.originalImageURL}\n            onClose={this.closeModal}\n          />\n        )}\n        <ImageGallery hits={this.state.hits} onImageClick={this.handleClickImage} />\n        <div className =\"LoaderWrapper\">\n        {loading && (<Loader\n          type=\"ThreeDots\"\n          color=\"#CD5C5C\"\n          height={50}\n          width={50}\n          timeout={3000} //3 secs\n        />)}\n        {hits.length > 0 && !loading && (\n            <Button onClick = {this.fetchHits}/>\n        )}\n      </div>\n      </div>\n    )\n  }\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}